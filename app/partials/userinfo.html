
<p>user: {{userInfo}}</p>

<div style="margin: 4px; padding: 0px", class="panel panel-primary">
  <div class="panel-heading">Money Account Details</div>
  <div class="panel-body">

<div ng-show="msg" class="alert alert-danger">{{msg}}</div>

<form editable-form name="tableform" onaftersave="saveTable()" oncancel="cancel()">

  <!-- table -->
  <table class="table table-bordered table-hover table-condensed">
    <tr style="font-weight: bold">
      <td style="width:40%">AccountType</td>
      <td style="width:30%">AccountName</td>
      <td style="width:30%">AccountBalance</td>
      <td style="width:30%"><span ng-show="tableform.$visible">Action</span></td>
    </tr>
    <tr ng-repeat="ma in userMoneyAccount ">
      <td>
        <span editable-select="ma.type" e-form="tableform" e-ng-options="a as a for a in moneyAccountType">
          {{ma.type}}
        </span>
      </td>
      <td>
        <span editable-text="ma.name" e-form="tableform" >
          {{ma.name}}
        </span>
      </td>
      <td>
        <span editable-text="ma.subAccountBalance" e-form="tableform" >
          {{ma.subAccountBalance}}
        </span>
      </td>
      <td><button type="button" ng-show="tableform.$visible" ng-click="deleteUser(user.id)" class="btn btn-danger pull-right">Del</button></td>
    </tr>
  </table>

  <!-- buttons -->
  <div class="btn-edit">
    <button type="button" class="btn btn-default" ng-show="!tableform.$visible" ng-click="tableform.$show()">
      edit
    </button>
  </div>
  <div class="btn-form" ng-show="tableform.$visible">
    <button type="button" ng-disabled="tableform.$waiting" ng-click="addMoneyAccount()" class="btn btn-default pull-right">add row</button>
    <button type="submit" ng-disabled="tableform.$waiting" class="btn btn-primary">save</button>
    <button type="button" ng-disabled="tableform.$waiting" ng-click="tableform.$cancel()" class="btn btn-default">cancel</button>
  </div>

</form>
</div>
</div>
